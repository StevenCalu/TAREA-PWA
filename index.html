<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PWA - Sistema de Facturacion</title>
    <link rel="stylesheet" href="./public/css/estilos.css">
    <link rel="manifest" href="manifest.json">

</head>

<body>
    <h1>
        <img src="img/factura.png" alt="Logo del sistema" width="100" style="vertical-align: middle; margin-right: 15px;">
        Sistema de Facturación
    </h1>
    
    <section>
        <h2>
            <img src="img/cliente.png" alt="Clientes" width="60" style="vertical-align: middle; margin-right: 10px;">
            REGISTRAR CLIENTES
        </h2>
        <input type="text" id="nombre_cliente" placeholder="NOMBRE">
        <input type="text" id="cedula_cliente" placeholder="CÉDULA">
        <input type="text" id="direccion_cliente" placeholder="DIRECCIÓN">
        <button onclick="agregarCliente()">Agregar Cliente</button>
        <ul id="lista_clientes"></ul>
    </section>

    <section>
        <h2>
            <img src="img/agregar-producto.png"  width="60" style="vertical-align: middle; margin-right: 10px;">
            REGISTRAR PRODUCTOS
        </h2>
        <input type="text" id="nombre_producto" placeholder="NOMBRE">
        <input type="number" id="precio_producto" placeholder="PRECIO">
        <button id="btn_producto" onclick="agregarProducto()">Agregar Producto</button>
        <ul id="lista_productos"></ul>
    </section>

    <section>
        <h2>
            <img src="img/proyecto-de-ley.png" alt="Factura" width="60" style="vertical-align: middle; margin-right: 10px;">
            GENERAR FACTURA
        </h2>
        <select id="cliente_factura"></select><br>
        <select id="producto_factura"></select>
        <input type="number" id="cantidad_producto" placeholder="CANTIDAD">
        <button onclick="agregarItemFactura()">Agregar Producto a Factura</button>
        <ul id="lista_items_factura"></ul>
        <p id="total_factura">Total: $0.00</p>
        <button onclick="guardarFactura()">Guardar Factura</button>
    </section>

    <section id="resumen_factura" style="display:none; margin-top:20px;">
        <h3>RESUMEN DE FACTURAS</h3>
        <p><strong>Cliente:</strong> <span id="resumen_cliente"></span></p>
        <p><strong>Fecha:</strong> <span id="resumen_fecha"></span></p>
        <table border="1" cellpadding="5" cellspacing="0">
            <thead>
                <tr>
                    <th>Producto</th>
                    <th>Cantidad</th>
                    <th>Precio Unitario</th>
                    <th>Subtotal</th>
                </tr>
            </thead>
            <tbody id="resumen_items"></tbody>
        </table>
        <p><strong>Total:</strong> $<span id="resumen_total"></span></p>
    </section>

    <script src="./public/js/clientes.js"></script>
    <script src="./public/js/productos.js"></script>
    <script src="./public/js/factura.js"></script>
    
    <script>
    // Registrar el Service Worker 
    if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('service-worker.js')
          .then(reg => console.log(' Service Worker registrado '))
          .catch(err => console.error(' Error al registrar el Service Worker', err));
    };

   </script>

</body>
</html>